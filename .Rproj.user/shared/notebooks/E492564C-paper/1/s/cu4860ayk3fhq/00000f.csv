"0","#| warning: false"
"0","#| message: false"
"0","#| echo: false"
"0","#| label: fig-numdis"
"0","#| fig-cap: ""Distribution of numerical varibales"""
"0","### Define Variables and Prepare Data ###"
"0","# Define the numeric variables to plot"
"0","numeric_variables <- c(""pollscore"", ""numeric_grade"", ""transparency_score"", ""sample_size"", ""pct"")"
"0",""
"0","# Convert start_date and end_date to Date type"
"0","raw_data$start_date <- ymd(raw_data$start_date)"
"0","raw_data$end_date <- ymd(raw_data$end_date)"
"0",""
"0","# Define the date variables to plot"
"0","date_variables <- c(""start_date"", ""end_date"")"
"0",""
"0","### Create Plots for Numeric Variables ###"
"0","# Create a list to store plots"
"0","plots <- list()"
"0",""
"0","# Loop through selected numeric variables and plot their distributions"
"0","for (variable in numeric_variables) {"
"0","  plots[[variable]] <- ggplot(raw_data, aes_string(x = variable)) +"
"0","    geom_histogram(binwidth = 0.8, fill = ""#69b3a2"", color = ""black"", alpha = 0.8) +"
"0","    labs(title = paste(""Distribution of"", variable), x = variable, y = ""Frequency"") +"
"0","    theme_minimal(base_size = 30) +"
"0","    theme("
"0","      plot.title = element_text(hjust = 0.5, size = 12),"
"0","      axis.title = element_text(size = 10),"
"0","      axis.text = element_text(size = 10)"
"0","    )"
"0","}"
"0",""
"0","### Create Plots for Date Variables ###"
"0","# Loop through selected date variables and plot their distributions"
"0","for (variable in date_variables) {"
"0","  plots[[variable]] <- ggplot(raw_data, aes_string(x = variable)) +"
"0","    geom_histogram(binwidth = 30, fill = ""#404080"", color = ""black"", alpha = 0.8) +"
"0","    labs(title = paste(""Distribution of"", variable), x = variable, y = ""Frequency"") +"
"0","    theme_minimal(base_size = 30) +"
"0","    theme("
"0","      plot.title = element_text(hjust = 0.5, size = 12),"
"0","      axis.title = element_text(size = 10),"
"0","      axis.text = element_text(size = 10)"
"0","    )"
"0","}"
"0",""
"0","### Combine and Print Plots ###"
"0","# Combine all individual plots into one using patchwork with 2 columns and 4 rows"
"0","combined_plot <- wrap_plots(plots, ncol = 2, nrow = 4, heights = unit(rep(3, 4), ""in"")) +"
"0","  plot_annotation("
"0","    title = ""Distributions of Selected Numeric Variables"","
"0","    theme = theme("
"0","      plot.title = element_text(hjust = 0.5, size = 6)"
"0","    )"
"0","  )"
"0",""
"0","# Print the combined plot"
"0","print(combined_plot)"
"0",""
