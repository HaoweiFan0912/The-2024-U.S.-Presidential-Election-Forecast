"0","#| warning: false"
"0","#| message: false"
"0","#| echo: false"
"0","#| label: fig-numdis"
"0","#| fig-cap: ""Distribution of numerical varibales"""
"0",""
"0","### Plot distributions for selected numeric variables ###"
"0","# Define the numeric variables to plot"
"0","numeric_variables <- c(""pollscore"", ""numeric_grade"", ""transparency_score"", ""sample_size"", ""pct"")"
"0",""
"0","# Create a list to store plots"
"0","plots <- list()"
"0",""
"0","# Loop through selected numeric variables and plot their distributions"
"0","for (variable in numeric_variables) {"
"0","  plot <- ggplot(raw_data, aes_string(x = variable)) +"
"0","    geom_histogram(binwidth = 0.2, fill = ""blue"", color = ""black"") +"
"0","    labs(title = paste(""Distribution of"", variable), x = variable, y = ""Frequency"") +"
"0","    theme_minimal() +"
"0","    theme(plot.title = element_text(hjust = 0.5))"
"0","  "
"0","  # Add plot to list"
"0","  plots[[variable]] <- plot"
"0","}"
"0",""
"0","### Convert start_date and end_date to Date type and plot ###"
"0","raw_data$start_date <- ymd(raw_data$start_date)"
"0","raw_data$end_date <- ymd(raw_data$end_date)"
"0",""
"0","# Plot start_date and end_date distributions"
"0","date_variables <- c(""start_date"", ""end_date"")"
"0",""
"0","for (variable in date_variables) {"
"0","  plot <- ggplot(raw_data, aes_string(x = variable)) +"
"0","    geom_histogram(binwidth = 30, fill = ""green"", color = ""black"") +"
"0","    labs(title = paste(""Distribution of"", variable), x = variable, y = ""Frequency"") +"
"0","    theme_minimal() +"
"0","    theme(plot.title = element_text(hjust = 0.5))"
"0","  "
"0","  # Add plot to list"
"0","  plots[[variable]] <- plot"
"0","}"
"0",""
"0",""
"0",""
"0",""
"0",""
"0","# Combine all individual plots into one using patchwork"
"0","combined_plot <- wrap_plots(plots) +"
"0","  plot_annotation(title = ""Distributions of Selected Numeric Variables"")"
"0",""
"0","# Print the combined plot"
"0","print(combined_plot)"
